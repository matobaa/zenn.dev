---
title: "trac 1.6 ã‚’æ§‹ç¯‰ã™ã‚‹"
emoji: "ğŸ•Œ"
type: "tech"
topics: []
published: false
---

# ã“ã®è¨˜äº‹ã¯ãªã«?

https://trac-hacks.org/ticket/13998 ã‚’ã‚„ã£ã¤ã‘ã‚‹å¿…è¦ãŒã‚ã‚Šã€ä¹…ã—ã¶ã‚Šã«ç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹ã®ã§æ‰‹é †ã‚’ãƒ¡ãƒ¢ã—ã¾ã™ã€‚2021-04-14ç¾åœ¨ã®è¨˜äº‹ã§ã™ã€‚

- ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®ãƒã‚±ãƒƒãƒˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  trac(ver.1.6)ã‚’æ§‹ç¯‰ã—ã¾ã™
- Docker Container ã‚’ä½¿ã£ã¦å®Ÿç¾ã—ã¾ã™ (æ‰‹å…ƒç’°å¢ƒã¯Win10 + WLS2 + Docker Desktopã§ã™)
- VS Code + Remote Container ã‚’ä½¿ã„ã¾ã™

# å‰æã‚’æ±ºã‚ã‚‹

https://trac.edgewall.org/wiki/1.5/TracInstall#MandatoryDependencies ãªã©ã‚’å‚è€ƒã«ç’°å¢ƒã‚’æ±ºã‚ã¾ã™ã€‚
- OS ã¯ Linux ã®ãªã‹ã‹ã‚‰é¸ã¶ã“ã¨ã«ã—ã¾ã™ã€‚ç§ã®å¥½ã¿ã¯debianã§ã€ã„ã¾ãªã‚‰buster(stable)ãŒã‚ˆã•ãã†ã§ã™ãŒã€Dockerã‚’ä½¿ã†ã®ã§ã€dockerHubã§ã‚¤ãƒ¡ãƒ¼ã‚¸é¸æŠã™ã‚‹ã¨ãã®å‚è€ƒç¨‹åº¦ã«ã¨ã©ã‚ã¾ã™ã€‚
- pythonã¯ã€[ç¾æ™‚ç‚¹ã®æœ€æ–°](https://www.python.org/#:~:text=Latest)ã¯ [3.9.4](https://www.python.org/downloads/release/python-394/) ã§ã—ãŸã€‚ã“ã‚Œã«ã—ã¾ã™ã€‚ Docker Hub ã«ã‚ã‚‹ python:latest ã®ãªã‹ã‹ã‚‰ã€[python:3.9.4-buster](https://hub.docker.com/layers/python/library/python/3.9.4-buster/images/sha256-47742d1f02490793c3a60123b70aac85023656b6e892c42934bc856b03a57f43?context=explore) ã‚’é¸æŠã—ã¾ã—ãŸã€‚
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯postgreSQLã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã™ã€‚ç¾æ™‚ç‚¹ã®[PostgreSQLã®æœ€æ–°](https://www.postgresql.org/#:~:text=Latest)ã¯[13.2](https://www.postgresql.org/docs/13/release-13-2.html)ã§ã—ãŸã€‚Docker Hub ã«ã‚ã‚‹ postgres:latest ã¯ [postgres:13.2](https://hub.docker.com/layers/postgres/library/postgres/13.2/images/sha256-6c027e582532be9b423df8e514bfa18d29d524c71e0a78a39b008c1251304ec2?context=explore) ã§ã—ãŸã€‚ã“ã‚Œã‚’ä½¿ã„ã¾ã™ã€‚
OSãŒåˆ†ã‹ã‚‰ãªã„ã®ã§ã™ãŒã€ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æŒã£ã¦ãã¦ã¿ãŸã‚‰ `/etc/os-release` ã« `PRETTY_NAME="Debian GNU/Linux 10 (buster)"` ã¨ã‚ã‚Šã¾ã—ãŸã€‚ãƒ“ãƒ³ã‚´ã§ã™ã€‚
debian buster(stable) ã®ç›®ç·šã§ã¯[11](https://packages.debian.org/buster/postgresql)ã€PostgreSQLã®ç›®ç·šã§ã¯[12](https://www.postgresql.org/download/linux/debian/)ã®ã‚ˆã†ã§ã™ãŒã€å‰ã®ã‚ã‚Šã«è¡Œãã¾ã™ã€‚tracã®ã‚ˆã†ãªä½¿ã„æ–¹ã§ã‚ã‚Œã°å½±éŸ¿ã¯ãªã„ã§ã—ã‚‡ã†ã€‚
- trac ã¯ 1.6 ã‚’ä½¿ã„ã¾ã™â€¦â€¦ã¨è¨€ã„ãŸã„ã¨ã“ã‚ã§ã™ãŒã€ã¾ã 1.6ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã“ã“ã¯æ”»ã‚ã¦ [trunk](https://trac.edgewall.org/wiki/TracDownload#Tractrunk) ã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã™ã€‚ç¾æ™‚ç‚¹ã§ã¯1.5.3devç›¸å½“ã¿ãŸã„ã§ã™ã€‚ä»Šç¾åœ¨ã®æœ€æ–°ã¯ [r17527](https://trac.edgewall.org/log/trunk?rev=17527)ã§ã™ãŒã€ã©ã‚“ã©ã‚“ä¸ŠãŒã£ã¦ã„ãã¯ãšã§ã™ã€‚è¿½ã„ã‹ã‘ã¾ã™ã€‚
- setuptools ã¯[latest](https://pypi.org/project/setuptools/)ã‚’é¸æŠã—ã¾ã—ãŸã€‚[56.0.0](https://pypi.org/project/setuptools/56.0.0/)ã§ã—ãŸã€‚
- Jinja2 ã¯ [latest](https://pypi.org/project/Jinja2/) ã‚’é¸æŠã—ã¾ã—ãŸã€‚[2.11.3](https://pypi.org/project/Jinja2/2.11.3/)ã§ã—ãŸã€‚

# ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰ã™ã‚‹

ä¸Šè¨˜ã«å¾“ã£ã¦ã€[docker-compose.yml](https://docs.docker.jp/compose/compose-file.html) ã‚’æ›¸ãã¾ã™ã€‚ã“ã‚“ãªæ„Ÿã˜ã§ã™:

```yaml:docker-compose.yml
version: '3'
services:
  postgresdb:
    image: postgres:13.2
    restart: on-failure:5
    environment:
      POSTGRES_PASSWORD: password
      POSTGRES_USER: db_user
  trac:
    image: python:3.9.4-buster
```